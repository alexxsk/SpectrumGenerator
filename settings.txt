# Програмний код який здійснює побудову спектру за заданими параметрами.
# Лабораторна робота з курсу "Методи обробки експериментальних данних"
# 
# Студента 4 курса групи ФВЕ
# Скоренка Олександра Олександровича 
# версія 1.1
#
#
# Інструкція до користування данним кодом.
#
# Параметри спектру можна задати двома способами:
# 1. Задати самостійно у файлі параметри, а потім
#    запустивши код та встановивши: "Current file: -> Set File -> RUN".
#
# 2. Задати параметри спектру безпосередньо у графічному інтерфейсі
#
# Лінія у спектрі задається стрічкою яка повинна
# починатись з LINE та номер стрічки, параметри лінії
# визначаться наступним чином:
# ERG - енергія лінії (кеВ)
# ITS - інтенсивність лінії (у відліках)
# FWHM - Повна ширина на половині висоти (кеВ)
# 
# Параметри фону задаються стрічкою яка починається
# з ключового слова BKG, параметри фону задаються 
# наступним чином:
# EP1 (відліки) - Перший параметр експоненціального фону EP1 * EXP(-x*EP2) x - енергія (кеВ)
# EP2 (1/кеВ) - Другий параметр експоненціального фону
# A  (1/кеВ) - Перший параметр лінійного фону (A*x + B)
# B  (відліки)- Другий параметр лінійного фону
# 
# Параметри спектру задаються стрічкою яка починається
# з ключового слова RANGE, параметри спектру задаютсья
# наступними параметрами:
# EMIN - Мінімальна енергія (кеВ)
# EMAX - Максимальна енергія (кеВ)
# NCH  - Кількість каналів 
# 
# СТРІЧКИ BKG ТА RANGE МОЖУТЬ БУТИ ТІЛЬКИ У ОДНОМУ ЕКЗЕМПЛЯРІ!
#  --- GUI ---
#
# Як користуватись графічним інтерфейсом:
#
# ПЕРЕД ТИМ ЯК ЗДІЙСЮВАТИ БУДЬ ЯКІ ОПЕРАЦІЇ ЗІ СПЕКТРОМ ВКАЖІТЬ ФАЙЛ
# СПЕКТРУ У КОМІРЦІ НА НАТИСНІСТЬ "SET FILE"!
#
# Для того, щоб додати у спектр лінію, введіть ВСІ необхідні
# данні до комірок та натисність "Add Line", лінія одразу буде
# записана до файлу налаштування, для того щоб прибрати лінію, 
# достатньо лише видалити її з файлу налаштування. Якщо лінія 
# з таким номером вже є, програма вас попередить та не запише цю
# лінію. Для того, щоб додати її, приберіть лінію під таким номером
# з файлу, або ж змініть номер лінії.
# Аналогічно додаються інші параметри спектру до файлу налаштування.
#
# Для побудови спектру, потрібно натиснути кнопку "RUN!".
# 
# Для запису згенерованого спектру до файлу потрібно натиснути 
# кнопку "Import to spectrum.txt" файл з вихідним спектром з'явиться
# у файлі "spectrum.txt" у форматі CSV який можна зчитувати будь 
# яким іншим програмним пакетом.



LINE1 ERG=2 ITS=1000 FWHM=0.05   # Line 1  
LINE2 ERG=3 ITS=2000 FWHM=0.07   # Line 2
LINE3 ERG=4 ITS=3000 FWHM=0.06   # Line 3
LINE4 ERG=5 ITS=4000 FWHM=0.1   # Line 4

BKG EP1=1000 EP2=4 A=-100 B=1000               # Background config

RANGE EMIN=0 EMAX=10.0 NCH=800 # Spectrum detect conf.
